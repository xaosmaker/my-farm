version: "2"
sql:
    - queries: "sql/queries"
      database:
          uri: ${DB_URL_LOCAL}
      schema: "sql/schemas"
      engine: "postgresql"
      analyzer:
          database: true
      strict_function_checks: true
      strict_order_by: true
      gen:
          go:
              overrides:
                  # - db_type: "pg_catalog.timestamptz"
                  #   go_type:
                  #       type: "time.Time"
                  # - db_type: "pg_catalog.timestamptz"
                  #   nullable: true
                  #   go_type:
                  #       type: "time.Time"
                  #       pointer: true
                  - column: "seasons.start_season"
                    go_type: "time.Time"
                  - db_type: json
                    nullable: true
                    go_type: "*encoding/json.RawMessage"
                  - db_type: jsonb
                    nullable: true
                    go_type: "*encoding/json.RawMessage"
              emit_pointers_for_null_types: true

              out: "internal/db"
              sql_package: "pgx/v5"
